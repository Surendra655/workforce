<div class="wrapper">
    <div class="card">
        <div class="card-header" id="header">
            <div class="row">
                <div class="col-2-md">
                    <strong>Workforce</strong>
                </div>
                <div class="col-1">
                    <button [routerLink]="['/list']" class="btn btn-primary btn-sm"
                    [ngStyle]="{'background-color': isUpdate ? '' : '#85b8f3' }">Employees</button>
                </div>
                <div class="col-2">
                    <button [ngStyle]="{'background-color': isUpdate ? '#85b8f3' : '' }" (click)='addEmp()' class="btn btn-primary btn-sm">Add
                        Employee</button>
                </div> 
            </div>
        </div>
        <!-- [ngClass]="{
            'error': (submitted && f.jobTitle.errors) || checkValueValidity('jobTitle')
          }"  -->
        <div class="card-body" id='body'>
            <div class="row" >
                    <div class="row">
                        <div class="col-3"  >
                            <div class="card border" style="width: 20rem;">
                                <img [src]='isImage' class="card-img-top" alt="Employee Image">                                
                            </div>
                           
                            <br>
                        </div>
                    </div>
                <!-- </div> -->
                <div class="col-8">
                    <form [formGroup]="employeeForm">
                        <div class="form-group row"  *ngIf='isUpdate'>
                            <label class="col-sm-2">Employee ID</label>
                            <div class="col-sm-4">
                                <input type="text" disabled class="form-control" formControlName="id" />
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2">First Name*</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" formControlName="first_name"
                                [ngClass]="{ 'is-invalid': (f.first_name.touched || submitted) && f.first_name.errors }"/>
                                <div class="text-danger" *ngIf="(f.first_name.touched || submitted) && f.first_name.errors?.required">
                                    First Name Is Required
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2">Last Name*</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" formControlName="last_name" 
                                [ngClass]="{ 'is-invalid': (f.last_name.touched || submitted) && f.last_name.errors }"/>
                                <div class="text-danger" *ngIf="(f.last_name.touched || submitted) && f.last_name.errors?.required">
                                    Last Name Is Required
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2">Email Address*</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" formControlName="email" 
                                [ngClass]="{ 'is-invalid': (f.email.touched || submitted) && f.email.errors }"/>
                                <div class="text-danger" *ngIf="(f.email.touched || submitted) && f.email.errors">
                                    <div class="text-danger" *ngIf="(f.email.touched || submitted) && f.email.errors?.required">
                                        Email Address Is Required
                                    </div>
                                    <div class="text-danger" *ngIf="(f.email.touched || submitted) && f.email.errors?.email">
                                        Enter Valid Email Address
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row" *ngIf='!isUpdate'>
                            <label class="col-sm-2">Upload Photo</label>
                            <div class="col-sm-8">
                                <input hidden type="file" formControlName="avatar"  (change)="onFileChanged($event)" #fileInput>
                                <button type="button" (click)="fileInput.click()" class="text-info bg-white p-1">Choose
                                    image</button>
                            </div>
                        </div>
                        <br>
                        <div class="form-group row"  *ngIf='!isUpdate'>
                          
                            <div class="col-sm-8">       
                              <button type="button" (click)='saveNewEmp()' class="btn btn-primary">Add Employee</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="form-group row" *ngIf='isUpdate'>
                <div class="col-2">
                    <button type="button"  (click)='updateEmployee()' class="btn btn-primary">Update</button>
                </div>
                <div class="col-2">
                    <button type="button" (click)='removeEmployee()' class="btn btn-warning">Remove</button>
                </div>
            </div>
        </div>
    </div>
</div>